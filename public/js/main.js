var sumar,restar,dividir,multiplicar,p_principal=$("#p_principal"),p_secundaria=$("#p_secundaria"),primer=!0,borrar=!0;function P_principal(a){return borrar?(borrar=!1,","==a||"."==a?p_principal.text("0."):p_principal.text(a)):","!=a&&"."!=a||""!=p_principal.text()?","==a||"."==a?-1!=p_principal.text().indexOf(".")||p_principal.text(p_principal.text()+"."):0==a&&"0"==p_principal.text()?p_principal.text("0"):0!=a&&"0"==p_principal.text()?p_principal.text(a):p_principal.text(p_principal.text()+a):p_principal.text("0."),1}function P_secundaria(a){return p_secundaria.text(a),1}function Operacion(a){if("CE"==a)p_principal.text("0"),p_secundaria.text("0"),primer=!(dividir=multiplicar=restar=sumar=!1);else if("<-"==a)p_principal.text(p_principal.text().substring(0,p_principal.text().length-1));else if("="==a){if(primer=borrar=!0,sumar){var p=parseFloat(p_secundaria.text())+parseFloat(p_principal.text());p_secundaria.text("0"),p_principal.text("0"),p_principal.text(p),sumar=!1}else if(restar){p=parseFloat(p_secundaria.text())-parseFloat(p_principal.text());p_secundaria.text("0"),p_principal.text("0"),p_principal.text(p),restar=!1}else if(multiplicar){p=parseFloat(p_secundaria.text())*parseFloat(p_principal.text());p_secundaria.text("0"),p_principal.text("0"),p_principal.text(p),multiplicar=!1}else if(dividir){p=parseFloat(p_secundaria.text())/parseFloat(p_principal.text());p_secundaria.text("0"),p_principal.text("0"),p_principal.text(p),dividir=!1}}else"/"==a?Dividir():"*"==a?Multiplicar():"-"==a?Restar():"+"==a&&Sumar()}function Sumar(){primer?(primer=!1,p_secundaria.text(p_principal.text())):restar?p_secundaria.text(parseFloat(p_secundaria.text())-parseFloat(p_principal.text())):multiplicar?p_secundaria.text(parseFloat(p_secundaria.text())*parseFloat(p_principal.text())):dividir?p_secundaria.text(parseFloat(p_secundaria.text())/parseFloat(p_principal.text())):p_secundaria.text(parseFloat(p_secundaria.text())+parseFloat(p_principal.text())),p_principal.text(""),dividir=multiplicar=restar=!(sumar=!0)}function Restar(){primer?(primer=!1,p_secundaria.text(p_principal.text())):sumar?p_secundaria.text(parseFloat(p_secundaria.text())+parseFloat(p_principal.text())):multiplicar?p_secundaria.text(parseFloat(p_secundaria.text())*parseFloat(p_principal.text())):dividir?p_secundaria.text(parseFloat(p_secundaria.text())/parseFloat(p_principal.text())):p_secundaria.text(parseFloat(p_secundaria.text())-parseFloat(p_principal.text())),p_principal.text(""),dividir=multiplicar=!(restar=!(sumar=!1))}function Multiplicar(){primer?(primer=!1,p_secundaria.text(p_principal.text())):sumar?p_secundaria.text(parseFloat(p_secundaria.text())+parseFloat(p_principal.text())):restar?p_secundaria.text(parseFloat(p_secundaria.text())-parseFloat(p_principal.text())):dividir?p_secundaria.text(parseFloat(p_secundaria.text())/parseFloat(p_principal.text())):p_secundaria.text(parseFloat(p_secundaria.text())*parseFloat(p_principal.text())),p_principal.text(""),dividir=!(multiplicar=!(restar=sumar=!1))}function Dividir(){primer?(primer=!1,p_secundaria.text(p_principal.text())):sumar?p_secundaria.text(parseFloat(p_secundaria.text())+parseFloat(p_principal.text())):restar?p_secundaria.text(parseFloat(p_secundaria.text())-parseFloat(p_principal.text())):multiplicar?p_secundaria.text(parseFloat(p_secundaria.text())*parseFloat(p_principal.text())):p_secundaria.text(parseFloat(p_secundaria.text())/parseFloat(p_principal.text())),p_principal.text(""),dividir=!(multiplicar=restar=sumar=!1)}